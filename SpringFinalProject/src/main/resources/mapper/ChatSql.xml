<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="boot.sist.mapper.ChatMapperInter">
   
   <select id="getMaxNum" resultType="int">
		select ifnull(max(num),0) from chat
	</select>
   
   <insert id="insertChat" parameterType="chat">
  	 insert into chat(r_num,r_subject,r_price,r_photo,seller,buyer,writeday) 
  	 values (#{r_num},#{r_subject},#{r_price},#{r_photo},#{seller},#{buyer},now())
   </insert>
   
   <select id="getAllChat" parameterType="String" resultType="chat">
   	select * from chat where seller=#{myid} or buyer=#{myid}
   </select>
   
   <select id="getEveryChatList" resultType="chat">
   	select * from chat order by num desc
   </select>
   
   <select id="getOneChat" parameterType="int" resultType="chat">
   	select * from chat where num=#{num}
   </select>
   
   <delete id="deleteChat" parameterType="chat">
   	delete from chat where num=#{num}
   </delete>

</mapper>